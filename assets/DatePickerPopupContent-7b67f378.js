import{P as h,r as d,j as e}from"./index-53f86240.js";import{b as I,c as Y,d as A,m as T,e as S,f as E,i as F,h as R}from"./utils-e57ee190.js";import{s as c}from"./symbol-defs-a3dbf2d5.js";function f(n){var a,i,s="";if(typeof n=="string"||typeof n=="number")s+=n;else if(typeof n=="object")if(Array.isArray(n))for(a=0;a<n.length;a++)n[a]&&(i=f(n[a]))&&(s&&(s+=" "),s+=i);else for(a in n)n[a]&&(s&&(s+=" "),s+=a);return s}function $(){for(var n,a,i=0,s="";i<arguments.length;)(n=arguments[i++])&&(a=f(n))&&(s&&(s+=" "),s+=a);return s}const L=({selectedValue:n,inputValueDate:a,onChange:i,min:s,max:j,YearBool:y=!1})=>{const[r,l]=d.useState(()=>n.getFullYear()),[o,p]=d.useState(()=>n.getMonth()),v=d.useMemo(()=>new Date,[]);d.useLayoutEffect(()=>{a&&(p(a.getMonth()),l(a.getFullYear()))},[a]);const[C,M,b]=d.useMemo(()=>{const t=n.getFullYear(),m=n.getDate(),u=n.getMonth();return[t,u,m]},[n]),N=d.useMemo(()=>{const t=I(r,o),m=R(r,o,t),u=Y(r,o),x=A(r,o);return[...u,...m,...x]},[r,o]),P=t=>{i(new Date(t.year,t.month,t.date))},D=()=>{l(r+1)},w=()=>{l(r-1)},_=()=>{o===11?(p(0),l(r+1)):p(o+1)},k=()=>{o===0?(p(11),l(r-1)):p(o-1)};return e.jsxs("div",{className:"CalendarPanel",children:[e.jsx("div",{className:"CalendarPanel__header",children:e.jsxs("div",{className:"CalendarPanel__buttons",children:[e.jsxs("div",{className:"CalendarPanel__buttons-left",children:[y&&e.jsxs("button",{type:"button",className:"btn","data-testid":"date-picker-popup-prev-year",onClick:w,children:[e.jsx("svg",{className:"prevMonth",width:"6",height:"10",children:e.jsx("use",{href:c+"#arrow-right-icon"})}),e.jsx("svg",{className:"prevMonth",width:"6",height:"10",children:e.jsx("use",{href:c+"#arrow-right-icon"})})]}),e.jsx("button",{type:"button",className:"btn","data-testid":"date-picker-popup-prev-month",onClick:k,children:e.jsx("svg",{className:"prevMonth",width:"6",height:"10",children:e.jsx("use",{href:c+"#arrow-right-icon"})})})]}),e.jsxs("div",{className:"CalendarPanel__date","data-testid":"date-picker-popup-month",children:[T[o]," ",r]}),e.jsxs("div",{className:"CalendarPanel__buttons-right",children:[e.jsx("button",{type:"button",className:"btn","data-testid":"date-picker-popup-next-month",onClick:_,children:e.jsx("svg",{className:"nextMonth",width:"6",height:"10",children:e.jsx("use",{href:c+"#arrow-left-icon"})})}),y&&e.jsxs("button",{type:"button",className:"btn","data-testid":"date-picker-popup-next-year",onClick:D,children:[e.jsx("svg",{className:"nextMonth",width:"6",height:"10",children:e.jsx("use",{href:c+"#arrow-left-icon"})}),e.jsx("svg",{className:"nextMonth",width:"6",height:"10",children:e.jsx("use",{href:c+"#arrow-left-icon"})})]})]})]})}),e.jsxs("div",{className:"CalendarPanel__content",children:[S.map(t=>e.jsx("div",{className:"CalendarPanelItem  CalendarPanelItem--forehead",children:t},t)),N.map(t=>{const m=t.year===C&&t.month===M&&t.date===b,u=E(t,v),x=t.type!=="current",g=F(new Date(t.year,t.month,t.date),s,j);return e.jsx("button",{type:"button",className:$("CalendarPanelItem",m&&"CalendarPanelItem--selected",u&&"CalendarPanelItem--today",x&&"CalendarPanelItem--not-current",!g&&"CalendarPanelItem--not-in-range"),onClick:()=>g&&P(t),"data-testid":"date-picker-popup-cell",children:e.jsx("div",{className:"CalendarPanelItem__date",children:t.date})},`${t.date}-${t.month}-${t.year}`)})]})]})};L.propTypes={selectedValue:h.any,inputValueDate:h.any,onChange:h.any,min:h.any,max:h.any,YearBool:h.bool};export{L as D,$ as c};
