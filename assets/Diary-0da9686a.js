import{P as s,j as e,u as f,d as U,L as E,n as w,a as Y,r as p,b as k,s as Z,g as K}from"./index-892ada1e.js";import{r as Q}from"./react-responsive-cd30af83.js";import{C as X}from"./Container-197a4dde.js";import{T as z}from"./TitlePage-39453d5f.js";import{D as j}from"./DiaryDashboardItem-10faa72c.js";import{s as D}from"./symbol-defs-a3dbf2d5.js";import{c as G,D as J}from"./DatePickerPopupContent-a4cb380a.js";import{g as u,a as P,i as T}from"./utils-e8fb6956.js";const ee="_day_dashboard_container_12jxa_1",se="_day_dashboard_12jxa_1",te="_left_12jxa_23",ae="_rigth_12jxa_31",ne="_btns1_12jxa_41",re="_btns2_12jxa_49",ce="_diary_item_red_12jxa_57",ie="_exclamation_12jxa_65",x={day_dashboard_container:ee,day_dashboard:se,left:te,rigth:ae,btns1:ne,btns2:re,diary_item_red:ce,exclamation:ie},R=({diary:t,bodyData:i})=>{const{burnedCalories:_,consumedCalories:c,timeSport:o}=t,{dailyRateCalories:l,dailySportMin:a}=i;return e.jsxs("div",{className:x.day_dashboard_container,children:[e.jsxs("div",{className:x.day_dashboard,children:[e.jsxs("div",{className:x.left,children:[e.jsx(j,{svg:"fork-and-knife-icon",title:"Daily calorie intake",content:l,className:x.diary_item_red}),e.jsx(j,{svg:"dumbbell-icon",title:"Daily norm of sports",content:a,className:x.diary_item_red,measurement:"min"})]}),e.jsxs("div",{className:x.rigth,children:[e.jsxs("div",{className:x.btns1,children:[e.jsx(j,{svg:"apple-icon",title:"Calories consumed",content:c}),e.jsx(j,{svg:"fire-icon",title:"Calories burned",content:_})]}),e.jsxs("div",{className:x.btns2,children:[e.jsx(j,{svg:"bubble-icon",title:"The rest of the calories",content:l-c,type:"calories"}),e.jsx(j,{svg:"run-icon",title:"The rest of sports",content:a-o,type:"sport",measurement:"min"})]})]})]}),e.jsxs("div",{className:x.exclamation,children:[e.jsx("div",{children:e.jsx("svg",{className:x.colorSvg,width:"24",height:"24",children:e.jsx("use",{href:D+"#exclamation-mark-icon"})})}),e.jsx("p",{children:"Record all your meals in a calorie diary every day. This will help me be aware of my nutrition and make me responsible for my choices."})]})]})};R.propTypes={diary:s.shape({burnedCalories:s.number,consumedCalories:s.number,timeSport:s.number}),bodyData:s.shape({dailyRateCalories:s.number,dailySportMin:s.number})};const de="_DayExercises_1tgik_1",oe="_DayExercisesHead_1tgik_29",le="_tdDellete_1tgik_117",he="_tdBodyPart_1tgik_259",me="_thBodyPart_1tgik_261",_e="_tdEquipment_1tgik_269",ue="_thEquipment_1tgik_271",xe="_tdName_1tgik_279",pe="_thName_1tgik_281",ge="_tdTarget_1tgik_289",ye="_thTarget_1tgik_291",je="_tdBurnedCalories_1tgik_299",De="_thBurnedCalories_1tgik_301",ve="_tdTime_1tgik_309",be="_thTime_1tgik_311",Ne="_btnAddExersisec_1tgik_319",fe="_arrowIcon_1tgik_331",Ce="_recommendCircle_1tgik_425",ke="_DayExercisesTable_1tgik_507",Pe="_not_found_1tgik_715",Te="_linkExercises_1tgik_729",n={DayExercises:de,DayExercisesHead:oe,tdDellete:le,tdBodyPart:he,thBodyPart:me,tdEquipment:_e,thEquipment:ue,tdName:xe,thName:pe,tdTarget:ge,thTarget:ye,tdBurnedCalories:je,thBurnedCalories:De,tdTime:ve,thTime:be,btnAddExersisec:Ne,arrowIcon:fe,recommendCircle:Ce,DayExercisesTable:ke,not_found:Pe,linkExercises:Te},B=({doneExercises:t,date:i})=>{const _=f(),c=a=>{_(U({date:i,exerciseId:a}))},o=()=>e.jsx(E,{to:"/exercises",className:n.linkExercises,children:e.jsxs("p",{className:n.btnAddExersisec,children:["Add exercise",e.jsx("svg",{className:n.arrowIcon,children:e.jsx("use",{href:D+"#arrow-icon"})})]})}),l=t.map(a=>{const d=w();return e.jsxs("tr",{children:[e.jsx("td",{className:n.tdBodyPart,children:e.jsx("div",{children:a.exercise.bodyPart})}),e.jsx("td",{className:n.tdEquipment,children:e.jsx("div",{children:a.exercise.equipment})}),e.jsx("td",{className:n.tdName,children:e.jsx("div",{children:a.exercise.name})}),e.jsx("td",{className:n.tdTarget,children:e.jsx("div",{children:a.exercise.target})}),e.jsx("td",{className:n.tdBurnedCalories,children:e.jsx("div",{children:a.burnedCalories})}),e.jsx("td",{className:n.tdTime,children:e.jsx("div",{children:a.time})}),e.jsx("td",{className:n.tdDellete,children:e.jsx("button",{onClick:()=>c(a._id),children:e.jsx("svg",{children:e.jsx("use",{href:D+"#trash-icon"})})})})]},d)});return e.jsx(e.Fragment,{children:l.length>0?e.jsxs("div",{className:n.DayExercises,children:[e.jsxs("div",{className:n.DayExercisesHead,children:[e.jsx("h2",{children:"Exercises"}),o()]}),e.jsx("div",{className:n.DayExercisesTable,children:e.jsxs("table",{children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:n.thBodyPart,children:"Body Part"}),e.jsx("th",{className:n.thEquipment,children:"Equipment"}),e.jsx("th",{className:n.thName,children:"Name"}),e.jsx("th",{className:n.thTarget,children:"Target"}),e.jsx("th",{className:n.thBurnedCalories,children:"Burned Calories"}),e.jsx("th",{className:n.thTime,children:"Time"})]})}),e.jsx("tbody",{children:l})]})})]}):e.jsxs("div",{className:n.DayExercises,children:[e.jsxs("div",{className:n.DayExercisesHead,children:[e.jsx("h2",{children:"Exercises"}),o()]}),e.jsx("div",{className:n.DayExercisesTable,children:e.jsx("p",{className:n.not_found,children:"Not found exercises"})})]})})};B.propTypes={doneExercises:s.arrayOf(s.shape({exercise:s.shape({bodyPart:s.string,equipment:s.string,name:s.string,target:s.string,burnedCalories:s.number})})),date:s.any,isMobile:s.bool};const Ee="_DayProducts_1u16a_1",we="_DayProductsHead_1u16a_31",Re="_tdDellete_1u16a_115",Be="_tdTitle_1u16a_241",Ie="_thTitle_1u16a_243",Le="_tdCategory_1u16a_253",Se="_thCategory_1u16a_255",Ae="_tdCalories_1u16a_263",qe="_thCalories_1u16a_265",Ve="_tdWeight_1u16a_273",He="_thWeight_1u16a_275",Me="_tdRecommend_1u16a_283",We="_thRecommend_1u16a_285",$e="_recommendCircle_1u16a_295",Fe="_btnAddProduct_1u16a_305",Oe="_arrowIcon_1u16a_317",Ue="_DayProductsTable_1u16a_467",Ye="_not_found_1u16a_655",Ze="_linkProducts_1u16a_671",r={DayProducts:Ee,DayProductsHead:we,tdDellete:Re,tdTitle:Be,thTitle:Ie,tdCategory:Le,thCategory:Se,tdCalories:Ae,thCalories:qe,tdWeight:Ve,thWeight:He,tdRecommend:Me,thRecommend:We,recommendCircle:$e,btnAddProduct:Fe,arrowIcon:Oe,DayProductsTable:Ue,not_found:Ye,linkProducts:Ze},I=({consumedProducts:t,blood:i,date:_})=>{const c=f(),o=h=>{c(Y({date:_,productId:h}))},l=h=>h[i],a=()=>e.jsx(E,{to:"/products",className:r.linkProducts,children:e.jsxs("p",{className:r.btnAddProduct,children:["Add product",e.jsx("svg",{className:r.arrowIcon,children:e.jsx("use",{href:D+"#arrow-icon"})})]})}),d=t.map(h=>{const y=w();return e.jsxs("tr",{children:[e.jsx("td",{className:r.tdTitle,children:e.jsx("div",{children:h.product.title})}),e.jsx("td",{className:r.tdCategory,children:e.jsx("div",{children:h.product.category})}),e.jsx("td",{className:r.tdCalories,children:e.jsx("div",{children:h.calories})}),e.jsx("td",{className:r.tdWeight,children:e.jsx("div",{children:h.amount})}),e.jsx("td",{className:r.tdRecommend,children:l(h.product.groupBloodNotAllowed)?e.jsx(e.Fragment,{children:e.jsxs("span",{children:[e.jsx("svg",{className:r.recommendCircle,children:e.jsx("circle",{cx:"7",cy:"7",r:"7",fill:"green"})}),e.jsx("p",{children:"Yes"})]})}):e.jsx(e.Fragment,{children:e.jsxs("span",{children:[e.jsx("svg",{className:r.recommendCircle,children:e.jsx("circle",{cx:"7",cy:"7",r:"7",fill:"red"})}),e.jsx("p",{children:"No"})]})})}),e.jsx("td",{className:r.tdDellete,children:e.jsx("button",{onClick:()=>o(h._id),children:e.jsx("svg",{children:e.jsx("use",{href:D+"#trash-icon"})})})})]},y)});return e.jsx(e.Fragment,{children:d.length>0?e.jsxs("div",{className:r.DayProducts,children:[e.jsxs("div",{className:r.DayProductsHead,children:[e.jsx("h2",{children:"Products"}),a()]}),e.jsx("div",{className:r.DayProductsTable,children:e.jsxs("table",{children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:r.thTitle,children:"Title"}),e.jsx("th",{className:r.thCategory,children:"Category"}),e.jsx("th",{className:r.thCalories,children:"Calories"}),e.jsx("th",{className:r.thWeight,children:"Weight"}),e.jsx("th",{className:r.thRecommend,children:"Recommend"})]})}),e.jsx("tbody",{children:d})]})})]}):e.jsxs("div",{className:r.DayProducts,children:[e.jsxs("div",{className:r.DayProductsHead,children:[e.jsx("h2",{children:"Products"}),a()]}),e.jsx("div",{className:r.DayProductsTable,children:e.jsx("p",{className:r.not_found,children:"Not found products"})})]})})};I.propTypes={consumedProducts:s.arrayOf(s.shape({product:s.shape({weight:s.number,calories:s.number,category:s.string,title:s.string})})),blood:s.number,date:s.string};function Ke(t){const i=p.useRef(t);return p.useLayoutEffect(()=>{i.current=t},[t]),i}const L=({value:t=new Date,onChange:i,min:_,max:c})=>{const[o,l]=p.useState(!1),[a,d]=p.useState(""),h=p.useRef(null);p.useLayoutEffect(()=>{d(u(t))},[t]);const y=()=>{const m=P(a);if(l(!1),!m){d(u(t));return}T(m,_,c)&&i(m)},v=Ke(y);p.useEffect(()=>{const m=h.current;if(!m)return;const b=O=>{const C=O.target;C instanceof Node&&(m.contains(C)||v.current())};return document.addEventListener("click",b),()=>{document.removeEventListener("click",b)}},[v]);const V=m=>{i(m),l(!1)},H=m=>{d(m.target.value.trim())},M=()=>{l(!0)},[W,$]=p.useMemo(()=>{const m=P(a);if(!m)return[void 0,!1];const b=T(m,_,c);return[m,b]},[a,_,c]),F=m=>{m.key==="Enter"&&y()};return e.jsxs("div",{ref:h,className:"DatePicker","data-testid":"data-picker-view",children:[e.jsx("input",{"data-testid":"date-picker-input",className:G("DatePicker__input",!$&&"DatePicker__input--invalid"),value:a,onChange:H,type:"text",onClick:M,onKeyDown:F}),o&&e.jsx("div",{className:"DatePicker__popup","data-testid":"date-picker-popup",children:e.jsx(J,{selectedValue:t,onChange:V,min:_,max:c,inputValueDate:W})})]})};L.propTypes={value:s.any,onChange:s.any,min:s.any,max:s.any,YearBool:s.bool};const Qe="_date_m7b57_1",Xe="_svg_m7b57_15",ze="_btnSvg_m7b57_25",Ge="_svg_btn_group_m7b57_45",Je="_data_picker_m7b57_61",g={date:Qe,svg:Xe,btnSvg:ze,svg_btn_group:Ge,data_picker:Je},S=({opacity:t="1"})=>e.jsx("svg",{className:g.svg,xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:e.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.5428 0.542847L11.957 1.95706L6.16414 7.74995L11.957 13.5428L10.5428 14.9571L3.33571 7.74995L10.5428 0.542847Z",fillOpacity:t})}),A=({opacity:t="1"})=>e.jsx("svg",{className:g.svg,xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",fillOpacity:t,children:e.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.45718 14.9572L4.04297 13.5429L9.83586 7.75005L4.04297 1.95715L5.45718 0.542938L12.6643 7.75005L5.45718 14.9572Z",fill:"#EFEDE8"})}),q=({date:t,setDate:i,minDate:_})=>{const c=new Date(_),o=new Date,l=()=>{var d=new Date(t);d=new Date(d.getTime()-864e5),i(new Date(d))},a=()=>{var d=new Date(t);d=new Date(d.getTime()+864e5),i(new Date(d))};return e.jsxs("div",{className:g.date,children:[e.jsxs("div",{className:g.data_picker,children:[e.jsx(L,{value:t,onChange:i,min:c,max:o}),e.jsx("svg",{className:g.colorSvg,width:"20",height:"20",children:e.jsx("use",{href:D+"#calendar-icon"})})]}),e.jsxs("div",{className:g.svg_btn_group,children:[e.jsx("button",{className:g.btnSvg,onClick:l,disabled:c>=t||u(t)===u(c),children:e.jsx(S,{opacity:c>t||u(t)===u(c)?"0.4":"1"})}),e.jsx("button",{className:g.btnSvg,onClick:a,disabled:+t>=+o||u(t)===u(o),children:e.jsx(A,{opacity:+t>=+o||u(t)===u(o)?"0.4":"1"})})]})]})};q.propTypes={date:s.any,setDate:s.func,minDate:s.any,opacity:s.string};A.propTypes={opacity:s.string};S.propTypes={opacity:s.string};const es="_diary_page_1nwcl_1",ss="_header_1nwcl_7",ts="_content_1nwcl_25",as="_tables_1nwcl_35",N={diary_page:es,header:ss,content:ts,tables:as},ns=t=>t.diary,_s=()=>{const t=f(),i=k(ns),_=k(Z),[c,o]=p.useState(()=>new Date);p.useEffect(()=>{t(K(u(c,1)))},[c,t]);const{bodyData:l,createdAt:a}=_,{blood:d}=l,{consumedProducts:h,doneExercises:y}=i,v=Q.useMediaQuery({maxWidth:768});return e.jsx("section",{className:N.diary_page,children:e.jsxs(X,{children:[e.jsxs("div",{className:N.header,children:[e.jsx(z,{text:"Diary"}),e.jsx(q,{date:c,setDate:o,minDate:a})]}),e.jsxs("div",{className:N.content,children:[e.jsxs("div",{className:N.tables,children:[h&&e.jsx(I,{isMobile:v,consumedProducts:h,date:i.date,blood:d}),y&&e.jsx(B,{isMobile:v,doneExercises:y,date:i.date})]}),e.jsx(R,{diary:i,bodyData:l})]})]})})};export{_s as default};
