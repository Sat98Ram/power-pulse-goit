import{P as s,j as e,r as w,u as C,Q as b,J as B,L as S,b as $}from"./index-892ada1e.js";import{a as v}from"./selectors-f2195984.js";import{c as E}from"./capitalizeFirstLeter-7ad1a417.js";import{B as D}from"./BasicModalWindow-b8a19987.js";import{s as M}from"./symbol-defs-a3dbf2d5.js";import{g as U}from"./utils-e8fb6956.js";const V="_wrapper_1h8x2_1",F="_btnWrapper_1h8x2_27",A="_cardLabel_1h8x2_41",O="_title_1h8x2_65",z="_button_1h8x2_115",J="_list_1h8x2_165",Q="_listItem_1h8x2_177",Y="_listItemValue_1h8x2_195",m={wrapper:V,btnWrapper:F,cardLabel:A,title:O,button:z,list:J,listItem:Q,listItemValue:Y},p={cardLabel:"Workout",btnLabel:"Start",list:{burnedCalories:"Burned calories:",bodyPart:"Body part:",target:"Target:"}},N=({data:r,openModalToggle:c})=>e.jsxs("li",{className:m.wrapper,children:[e.jsxs("div",{className:m.btnWrapper,children:[e.jsx("p",{className:m.cardLabel,children:p.cardLabel}),e.jsx("button",{type:"button",className:m.button,onClick:()=>c(r),children:p.btnLabel})]}),e.jsx("h3",{className:m.title,children:E(r.name)}),e.jsx("ul",{className:m.list,children:Object.keys(p.list).map(a=>e.jsxs("li",{className:m.listItem,children:[p.list[a],e.jsx("span",{className:m.listItemValue,children:E(String(r[a]))})]},a))})]});N.propTypes={data:s.shape({bodyPart:s.string.isRequired,burnedCalories:s.number.isRequired,equipment:s.string.isRequired,gifUrl:s.string.isRequired,name:s.string.isRequired,target:s.string.isRequired,time:s.number.isRequired,_id:s.string.isRequired}).isRequired,openModalToggle:s.func.isRequired};const G="_wrapper_3ohgb_1",H={wrapper:G},K="_ExersiceModalWindowWrap_173ud_1",X="_ExersiceModalWindow_173ud_1",Z="_ExersiceModalWindowImg_173ud_27",ee="_ExersiceModalWindowList_173ud_43",se="_ExersiceModalWindowLink_173ud_57",ie="_ExersiceModalWindowLinkSub_173ud_71",re="_ExersiceModalWindowLinkTitle_173ud_85",ce="_ExersiceModalWindowTimer_173ud_99",oe="_ExersiceModalWindowBtn_173ud_113",ae="_boxImage_173ud_185",te="_boxTimer_173ud_193",ne="_boxList_173ud_201",le="_boxButton_173ud_209",i={ExersiceModalWindowWrap:K,ExersiceModalWindow:X,ExersiceModalWindowImg:Z,ExersiceModalWindowList:ee,ExersiceModalWindowLink:se,ExersiceModalWindowLinkSub:ie,ExersiceModalWindowLinkTitle:re,ExersiceModalWindowTimer:ce,ExersiceModalWindowBtn:oe,boxImage:ae,boxTimer:te,boxList:ne,boxButton:le},de="_timer_ggaw6_1",me="_timerTitle_ggaw6_15",ue="_timerTime_ggaw6_31",xe="_timerBtn_ggaw6_49",_e="_pauseIcon_ggaw6_65",pe="_playIcon_ggaw6_75",we="_timerTxt_ggaw6_85",ge="_timerSub_ggaw6_103",We="_timerProgress_ggaw6_119",he="_timerProgressWrap_ggaw6_129",Me="_timerProgressCircle_ggaw6_139",je="_timerProgressCircleSec_ggaw6_151",u={timer:de,timerTitle:me,timerTime:ue,timerBtn:xe,pauseIcon:_e,playIcon:pe,timerTxt:we,timerSub:ge,timerProgress:We,timerProgressWrap:he,timerProgressCircle:Me,timerProgressCircleSec:je},be="_timerProgress_ydlkk_1",Se="_timerProgressCircle_ydlkk_13",Ee="_timerProgressCircleSec_ydlkk_25",h={timerProgress:be,timerProgressCircle:Se,timerProgressCircleSec:Ee},Ne=({fullTime:r,currentTime:c})=>e.jsxs("svg",{viewBox:"0 0 220 220",className:h.timerProgress,children:[e.jsx("circle",{className:h.timerProgressCircle,pathLength:r,cx:"110",cy:"110",r:"105"}),e.jsx("circle",{className:h.timerProgressCircleSec,pathLength:r,cx:"110",cy:"110",r:"105",strokeDasharray:r,strokeDashoffset:r-c})]}),T=({burnedCalories:r,time:c,currentTime:a,setCurrentTime:l})=>{const o=w.useRef(null);w.useEffect(()=>()=>{o.current&&clearInterval(o.current)},[]);const n=()=>{o.current?(clearInterval(o.current),o.current=null):o.current=setInterval(()=>{l(W=>W-1)},1e3)},d=Math.floor(a/60),g=a%60,x=`${d.toString().padStart(2,"0")}:${g.toString().padStart(2,"0")}`;return e.jsxs("div",{className:u.timer,children:[e.jsx("h1",{className:u.timerTitle,children:"Time"}),e.jsx(Ne,{fullTime:c*60,currentTime:a}),e.jsx("p",{className:u.timerTime,children:x}),e.jsx("button",{className:u.timerBtn,onClick:n,children:o.current?e.jsx("svg",{className:u.pauseIcon,children:e.jsx("use",{href:M+"#pause-square-icon",children:" "})}):e.jsx("svg",{className:u.playIcon,children:e.jsx("use",{href:M+"#play-symbol-icon"})})}),e.jsxs("p",{className:u.timerTxt,children:["Burned calories:",e.jsxs("span",{className:u.timerSub,children:[" ",r]})]})]})};T.propTypes={burnedCalories:s.number.isRequired,time:s.number.isRequired,currentTime:s.number.isRequired,setCurrentTime:s.func.isRequired};const Te=({name:r,bodypart:c,target:a,equipment:l,time:o})=>{const n=d=>d.replace(d[0],d[0].toUpperCase());return e.jsxs("ul",{className:i.ExersiceModalWindowList,children:[e.jsxs("li",{className:i.ExersiceModalWindowLink,children:[e.jsx("p",{className:i.ExersiceModalWindowLinkSub,children:"Name"}),e.jsx("p",{className:i.ExersiceModalWindowLinkTitle,children:n(r)})]}),e.jsxs("li",{className:i.ExersiceModalWindowLink,children:[e.jsx("p",{className:i.ExersiceModalWindowLinkSub,children:"Target"}),e.jsx("p",{className:i.ExersiceModalWindowLinkTitle,children:n(a)})]}),e.jsxs("li",{className:i.ExersiceModalWindowLink,children:[e.jsx("p",{className:i.ExersiceModalWindowLinkSub,children:"Body Part"}),e.jsx("p",{className:i.ExersiceModalWindowLinkTitle,children:n(c)})]}),e.jsxs("li",{className:i.ExersiceModalWindowLink,children:[e.jsx("p",{className:i.ExersiceModalWindowLinkSub,children:"Equipment"}),e.jsx("p",{className:i.ExersiceModalWindowLinkTitle,children:n(l)})]}),e.jsxs("li",{className:i.ExersiceModalWindowLink,children:[e.jsx("p",{className:i.ExersiceModalWindowLinkSub,children:"Time"}),e.jsxs("p",{className:i.ExersiceModalWindowLinkTitle,children:[o," minutes"]})]})]})},L=({data:r,onClick:c})=>{const{bodyPart:a,burnedCalories:l,equipment:o,gifUrl:n,name:d,target:g,time:x,_id:W}=r,I=C(),[_,q]=w.useState(180),y=Math.floor(_/60*(l/x)),P=()=>{const R=U(new Date,!0);if(_===180){b.error("Nothing to add");return}const j=Math.round((180-_)/6)/10;I(B({date:R,exercise:W,time:j,data:r})).then(()=>{c({time:j,calories:y})}).catch(f=>{b.error("Error adding exercise",f)})};return e.jsx("div",{className:i.ExersiceModalWindow,children:e.jsxs("div",{className:i.ExersiceModalWindowWrap,children:[e.jsx("div",{className:`${i.ExersiceModalWindow} ${i.boxImage}`,children:e.jsx("img",{className:i.ExersiceModalWindowImg,src:n,alt:"exercise"})}),e.jsx("div",{className:`${i.ExersiceModalWindowTimer} ${i.boxTimer}`,children:e.jsx(T,{burnedCalories:l,currentTime:_,setCurrentTime:q,time:x})}),e.jsx("div",{className:`${i.SubcategoriesList} ${i.boxList}`,children:e.jsx(Te,{name:d,bodypart:a,target:g,equipment:o,time:x})}),e.jsx("div",{className:i.boxButton,children:e.jsx("button",{className:i.ExersiceModalWindowBtn,type:"button",onClick:P,children:"Add to diary"})})]})})};L.propTypes={data:s.shape({bodyPart:s.string.isRequired,burnedCalories:s.number.isRequired,equipment:s.string.isRequired,gifUrl:s.string.isRequired,name:s.string.isRequired,target:s.string.isRequired,time:s.number.isRequired,_id:s.string.isRequired}).isRequired,onClick:s.func.isRequired};const Le="_SuccessModalWindow_jjl6a_1",ke="_SuccessModalWindowWrap_jjl6a_13",Ie="_SuccessModalWindowImg_jjl6a_27",qe="_SuccessModalWindowTitle_jjl6a_39",ye="_SuccessModalWindowTxt_jjl6a_55",Pe="_SuccessModalWindowSub_jjl6a_75",Re="_SuccessModalWindowBtn_jjl6a_89",fe="_arrowIcon_jjl6a_127",t={SuccessModalWindow:Le,SuccessModalWindowWrap:ke,SuccessModalWindowImg:Ie,SuccessModalWindowTitle:qe,SuccessModalWindowTxt:ye,SuccessModalWindowSub:Pe,SuccessModalWindowBtn:Re,arrowIcon:fe},Ce="/power-pulse-goit/assets/thumb-60b230fc.png",k=({data:r,onClick:c})=>e.jsx("div",{className:t.SuccessModalWindow,children:e.jsxs("div",{className:t.SuccessModalWindowWrap,children:[e.jsxs("div",{className:`${t.SuccessModalWindow} ${t.boxImage}`,children:[e.jsx("img",{className:t.SuccessModalWindowImg,src:Ce,alt:"thumb"}),e.jsx("p",{className:t.SuccessModalWindowTitle,children:"Well done"}),e.jsxs("p",{className:t.SuccessModalWindowTxt,children:["Your time:"," ",e.jsxs("span",{className:t.SuccessModalWindowSub,children:[" ",r.time]})]}),e.jsxs("p",{className:t.SuccessModalWindowTxt,children:["Burned calories:"," ",e.jsx("span",{className:t.SuccessModalWindowSub,children:r.calories})]})]}),e.jsx(S,{to:"/exercises",onClick:c,children:e.jsx("button",{className:t.SuccessModalWindowBtn,children:"Next exercise"})}),e.jsx(S,{to:"/diary",onClick:c,children:e.jsxs("p",{className:t.SuccessModalWindowTxt,children:["To the diary",e.jsx("svg",{className:t.arrowIcon,children:e.jsx("use",{href:M+"#arrow-icon",children:" "})})]})})]})});k.propTypes={data:s.shape({time:s.number.isRequired,calories:s.number.isRequired}).isRequired,onClick:s.func.isRequired};const Fe=()=>{const[r,c]=w.useState(null),a=$(v),l=n=>{c(n)},o=()=>{c(null)};return e.jsxs(e.Fragment,{children:[r&&e.jsx(D,{isOpenModalToggle:o,children:r.gifUrl?e.jsx(L,{data:r,onClick:l}):e.jsx(k,{closeModal:o,data:r,onClick:o})}),e.jsx("ul",{className:H.wrapper,children:a&&a.map((n,d)=>e.jsx(N,{data:n,openModalToggle:l},d))})]})};export{Fe as ExercisesList,Fe as default};
